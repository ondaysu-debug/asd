# ============================================================================
# CoinMarketCap DEX API v4 Configuration
# ============================================================================
# IMPORTANT: You MUST set CMC_API_KEY to use the CoinMarketCap API
# Get your API key from: https://pro.coinmarketcap.com/account

# --- CMC DEX API v4 (Primary Data Source) ---
CMC_DEX_BASE=https://pro-api.coinmarketcap.com/v4/dex
CMC_API_KEY=YOUR_CMC_API_KEY_HERE

# Rate limits and caching
CMC_CALLS_PER_MIN=28
CMC_RETRY_AFTER_CAP_S=3

# --- GeckoTerminal API (Fallback for OHLCV) ---
GECKO_BASE=https://api.geckoterminal.com/api/v2
GECKO_CALLS_PER_MIN=28
GECKO_RETRY_AFTER_CAP_S=3
GECKO_TTL_SEC=60

# Allow fallback to GeckoTerminal if CMC OHLCV fails
ALLOW_GT_OHLCV_FALLBACK=true

# --- Discovery Sources ---
CMC_SOURCES=new,trending,pools,dexes
CMC_ROTATE_SOURCES=true
CMC_PAGE_SIZE=100
CMC_PAGES_PER_CHAIN=2
CMC_DEX_PAGES_PER_CHAIN=1

# --- Budget and Limits ---
MAX_OHLCV_PROBES_CAP=30
MIN_OHLCV_PROBES=3
CMC_SAFETY_BUDGET=4

# --- Pre-check Filters ---
LIQUIDITY_MIN=50000
LIQUIDITY_MAX=800000
TX24H_MAX=2000

# --- Revival Detection and Alerts ---
REVIVAL_MIN_AGE_DAYS=7
MIN_PREV24_USD=1000
ALERT_RATIO_MIN=1.0
SEEN_TTL_MIN=15

# --- Chains to Monitor ---
# Supported: ethereum, bsc, base, solana, polygon, arbitrum, optimism, avalanche
CHAINS=ethereum,bsc

# --- Telegram Notifications ---
TG_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
TG_CHAT_ID=YOUR_TELEGRAM_CHAT_ID
TG_PARSE_MODE=Markdown

# --- Loop and Concurrency ---
COOLDOWN_MIN=30
LOOP_SECONDS=60
CHAIN_SCAN_WORKERS=4
ALERT_FETCH_WORKERS=8
MAX_CYCLES=0

# --- Data Storage ---
DB_PATH=wake_state.sqlite
SAVE_CANDIDATES=true
CANDIDATES_PATH=./candidates.jsonl

# --- Data Quality ---
DQ_DISCREPANCY_THRESHOLD=0.25
